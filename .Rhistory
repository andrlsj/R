#A|B|1
#A|C|3
#A|D|2
for(i in 1:nrow(test.data)){
mat1[test.data[i,1], test.data[i,2],test.data[i,3]  ]
}
mat1
for(i in 1:nrow(test.data)){
mat1[test.data[i,1], test.data[i,2]=test.data[i,3]  ]
}
mat1
for(i in 1:nrow(test.data)){
mat1[test.data[i,1], test.data[i,2]]=test.data[i,3]
}
mat1
filename="e:/r/match.txt"
mat1 = matrix(rep(-1,5^2),byrow = T,nrow=5,dimnames = list(c('A','B','C','D','E'),c('A','B','C','D','E')))
mat1
test.data = read.table(filename,header=F,sep="|")
str(test.data)
#A|B|1
#1 A B 1
for(i in 1:nrow(test.data)){
mat1[test.data[i,1], test.data[i,2]]=test.data[i,3]
}
mat1
match_func(filename)
match_func=function(filename){
mat1 = matrix(rep(-1,5^2),byrow = T,nrow=5,dimnames = list(c('A','B','C','D','E'),c('A','B','C','D','E')))
mat1
test.data = read.table(filename,header=F,sep="|")
str(test.data)
#A|B|1
#1 A B 1
for(i in 1:nrow(test.data)){
mat1[test.data[i,1], test.data[i,2]]=test.data[i,3]
}
mat1
}
filename="e:/r/match.txt"
match_func=function(filename){
mat1 = matrix(rep(-1,5^2),byrow = T,nrow=5,dimnames = list(c('A','B','C','D','E'),c('A','B','C','D','E')))
mat1
test.data = read.table(filename,header=F,sep="|")
str(test.data)
#A|B|1
#1 A B 1
for(i in 1:nrow(test.data)){
mat1[test.data[i,1], test.data[i,2]]=test.data[i,3]
}
mat1
}
filename="e:/r/match.txt"
match_func=function(filename){
mat1 = matrix(rep(-1,5^2),byrow = T,nrow=5,dimnames = list(c('A','B','C','D','E'),c('A','B','C','D','E')))
mat1
test.data = read.table(filename,header=F,sep="|")
str(test.data)
#A|B|1
#1 A B 1
for(i in 1:nrow(test.data)){
mat1[test.data[i,1], test.data[i,2]]=test.data[i,3]
}
mat1
}
match_func(filename)
m1=matrix(1:4,byrow = TRUE,nrow = 2)
m2=matrix(5:8,byrow = T,nrow=2)
li= list(m1,m2)
li
m1=matrix(1:4,byrow = TRUE,nrow = 2)
m2=matrix(5:8,byrow = T,nrow=2)
li= list(m1,m2)
li
sapply(li,mean)
sapply(li,function(e) e[1,])
m=matrix(1:4,byrow=T,nrow=2)
apply(m,1,sum)
apply(m,2,sum)
m
x <- c(80,70,59,88,72,57)
length(x)
t <- c(1,1,2,1,1,2)
length(t)
tapply(x,t,mean)
data(iris)
str(isis)
data(iris)
str(iris)
tapply(iris$Sepal.Length,iris$Species,mean)
dd <- data.frame(x1=c(2,2,6,4),x2=c(3,4,2,8))
dd$sumx <- dd$x1 + dd$x2
dd$meanx <- (dd$x1+dd$x2)/2
dd$sumx
dd <- data.frame(x1=c(2,2,6,4),x2=c(3,4,2,8))
mydata <- transform(dd,sumx=x1+x2,meanx=(x1+x2)/2)
dd$sumx
dd <- data.frame(x1=c(2,2,6,4),x2=c(3,4,2,8))
dd <- transform(dd,sumx=x1+x2,meanx=(x1+x2)/2)
dd$sumx
cdc<- load("cdc.Rdate")
str(cdc)
cdc<- load("cdc.Rdata")
str(cdc)
str(cdc.Rdata)
cdc=load("E:\R\cdc.Rdata")
str(cdc)
cdc=load("E:\R\cdc.Rdata")
getwd()
setwd("E:/R")
cdc=load("E:\R\cdc.Rdata")
load("E:\R\cdc.Rdata")
load("E:\R\cdc.Rdata")
load("E:\\R\\cdc.Rdata")
head(cdc)
str(cdc)
table(cdc$exerany)
table(cdc$exerany/length(cdc$exerany))
table(cdc$exerany) / length(cdc$exerany)
table(cdc$gender,cdc$exerany)
load("cdc.Rdata")
table(cdc$height)
summary(cdc$height)
cut(cdc$height,seq(45,95,by=5))
cut(cdc$height,seq(45,95,by=5),right = F)
table(cut(cdc$height,seq(45,95,by=5),right=F,labels=seq(1,length(seq(45,95,by=5))-1)))
cdc$h_group = cut(cdc$height,seq(45,95,by=5),right=F)
str(cdc)
barplot(table(cdc$smoke100))
?barplot
barplot(table(cdc$smoke100), xlab = "NoSomke", ylab = "Smoke",main = "Smoker", sub = "2099",col = "steelblue")
barplot(table(cdc$smoke100), xlab = "NoSomke", ylab = "Smoke",main = "Smoker in Taiwan", sub = "2099",col = "steelblue")
pie(table(cdc$smoke100))
pie(table(cdc$genhlth))
pie(table(cdc$genhlth),col=rainbow(5))
pie(table(cdc$genhlth),col=grey(5))
pie(table(cdc$genhlth),col=gray(5))
pie(table(cdc$genhlth),col=rainbow(5))
pct = round(table(cdc$genhlth)/length(cdc$genhlth))
labels = paste(names(pct),pct,"%")
pie(table(cdc$genhlth),labels = labels)
pct = round(table(cdc$genhlth)/length(cdc$genhlth)*100,1)
labels = paste(names(pct),pct,"%")
pie(table(cdc$genhlth),labels = labels)
gender_smokers = table(cdc$gender,cdc$smoke100)
mosaicplot(gender_smokers)
hist(cdc$height)
par(mfrow=c(3,1)) #make graph to 3 row
hist(cdc$height,breaks = 20)
hist(cdc$height,breaks = 30)
hist(cdc$height,breaks = 50)
stem(cdc$age)
tmp <- sample(cdc$age,100)
tmp=sample(cdc$age,100)
stem(sample(cdc$age,100))
stem(tmp)
stem(cdc$age) #too large
tmp=sample(cdc$age,100)
stem(tmp)
tmp=sample(cdc$age,100)
stem(tmp)
stem(sample(cdc$age,100))
boxplot(cdc$weight)
boxplot(cdc$weight, horizontal=TRUE)
par(mfrow=c(1,1))
boxplot(cdc$weight ~ cdc$gender)
boxplot(cdc$height ~ cdc$gender)
bmi = (cdc$weight/cdc$height^2) * 703
boxplot(bmi ~ cdc$genhlth)
bmi = (cdc$weight/cdc$height^2) * 703
boxplot(bmi ~ cdc$genhlth)
str(test.data)
bmi = (cdc$weight/cdc$height^2) * 703
boxplot(bmi ~ cdc$genhlth)
test.data = read.table(filename,header=F,sep="|")
filename="e:/r/match.txt"
match_func=function(filename){
mat1 = matrix(rep(-1,5^2),byrow = T,nrow=5,dimnames = list(c('A','B','C','D','E'),c('A','B','C','D','E')))
mat1
test.data = read.table(filename,header=F,sep="|")
str(test.data)
#1 A B 1
for(i in 1:nrow(test.data)){
mat1[test.data[i,1], test.data[i,2]]=test.data[i,3]
}
mat1
}
match_func(filename)
bmi = (cdc$weight/cdc$height^2) * 703
boxplot(bmi ~ cdc$genhlth)
bmi = (cdc$weight/cdc$height^2) * 703
boxplot(bmi ~ cdc$genhlth)
plot(cdc$weight, cdc$height)
plot(cdc$weight, cdc$wtdesire)
plot(cdc$weight, cdc$height)
plot(cdc$weight, cdc$wtdesire)
bmi = (cdc$weight/cdc$height^2) * 703
boxplot(bmi ~ cdc$genhlth)
par(mfrow=c(2,1))
plot(cdc$weight, cdc$height)
plot(cdc$weight, cdc$wtdesire)
a = c(100,120,130,110,100,90,80,90,100,110)
sum(a) / 10
mean(a)
a = c(100,120,130,110,100,90,80,90,100,110)
mean(a)
b=c(a,10000)
mean(b)
sort(a)
a
median(a)
table(c(1,4,4,3))
which.max(table(c(1,4,4,3)))
names(which.max(table(c(1,4,4,3))))
a = c(173,162,150,160,155,168,171,185,175,178,182)
sort(a)
range(a)
quantile(a,0.5)
quantile(a,0.25)
quantile(a,0.5)
quantile(a,0.75)
IQR(a)
fivenum(a)
?fivenum()
boxplot(a,horizontal = T)
b = c(a,226)
b
range(b)
IQR(b)
boxplot(b)
boxplot(b,horizontal = T)
var(cdc$weight)
var_a=var(cdc$weight)
sqrt(var_a)
install.packages('ggplot2')
g <- ggplot(cdc,aes(x=height,y=weight))
g+geom_point()
g+geom_point()
install.packages('ggplot2')
library('ggplot2')
g <- ggplot(cdc,aes(x=height,y=weight))
g+geom_point()
g <- ggplot(cdc,aes(x=height,y=weight))
g+geom_point()
g+geom_point(aes(col=exerany))
g+geom_point(aes(col=exerany))
g+geom_point(aes(col=exerany))
g <- ggplot(cdc,aes(x=height,y=weight))
g+geom_point(aes(col=exerany))
g+geom_point(aes(col=gender))
g=ggplot(cdc,aes(x=genhlth))
g+geom_bar()
g=ggplot(cdc,aes(x=genhlth))
g+geom_bar()+ylab('Count')
g+geom_bar()+ylab('Count')+ggtitle('cdc')
g+geom_bar()+ylab('Count')+ggtitle('USA cdc info')
g+geom_bar(fill="steelblue")
g+geom_bar(fill="steelblue",colors("red"))
g+geom_bar(fill="steelblue",color="red")
g+geom_bar(fill="steelblue",color="blue")
g=ggplot(cdc,aes(x=genhlth,y=gender))
g+geom_bar()
g=ggplot(cdc,aes(x=genhlth,fill=gender))
g+geom_bar()
g_bygrp <- ggplot(cdc,aes(x=exerany,fill=genhlth))
g_bygrp + geom_bar()
par(mfrow=c(1,1))
g2=g+geom_histogram()+facet_wrap(~genhlth)
?attach()
barplot(1:4, col = c(2, "red", rgb(1, 0, 0), "#FF0000"))
palette()
palette(rainbow(12))
barplot(1:4, col = c(2, "red", rgb(1, 0, 0), palette(rainbow(12))))
barplot(1:4, col = c(1,2,3,4))
palette(rainbow(12)) #rainbow palette
barplot(1:7, col = c(1,2,3,4,5,6,7))
palette(rainbow(7)) #rainbow palette
barplot(1:7, col = c(1,2,3,4,5,6,7))
palette(rainbow(12)) #rainbow palette
barplot(1:12, col = c(1,2,3,4,5,6,7,8,9,10,11,12))
palette() #system palette
barplot(1:8, col = c(1,2,3,4,5,6,7,8))
palette(rainbow(7)) #rainbow palette to 7 types
barplot(1:7, col = c(1,2,3,4,5,6,7))
barplot(1:8, col = c(1,2,3,4,5,6,7,8))
palette(heat.colors(12))
barplot(1:12, col = c(1,2,3,4,5,6,7,8,9,10,11,12))
palette(terrain.colors(12))
barplot(1:12, col = c(1,2,3,4,5,6,7,8,9,10,11,12))
palette(topo.colors(12))
barplot(1:12, col = c(1,2,3,4,5,6,7,8,9,10,11,12))
palette(cm.colors(12))
barplot(1:12, col = c(1,2,3,4,5,6,7,8,9,10,11,12))
palette(cm.colors(12))
barplot(1:12, col = c(1,2,3,4,5,6,7,8,9,10,11,12))
n <- 10
mycolor <- gray(10)
pie((1,n),labels=mycolor,col=mycolor)
n <- 10
mycolor <- gray(0:n/n)
pie(rep(1,n),labels=mycolor,col=mycolor)
mycolor2 <- topo.colors(0:n/10)
pie(rep(1,n),labels = mycolor,col = mycolor2)
palette(gray(12))
barplot(1:12, col = c(1,2,3,4,5,6,7,8,9,10,11,12))
palette(gray())
barplot(1:12, col = c(1,2,3,4,5,6,7,8,9,10,11,12))
mycolor2 <- topo(0:n/10)
pie(rep(1,n),labels = mycolor,col = mycolor2)
mycolor2 <- red(0:n/10)
pie(rep(1,n),labels = mycolor,col = mycolor2)
mycolor2 <- cm.colors(0:n)
pie(rep(1,n),labels = mycolor,col = mycolor2)
mycolor2 <- cm.colors(1:n)
pie(rep(1,n),labels = mycolor,col = mycolor2)
mycolor2 <- cm.colors(n)
pie(rep(1,n),labels = mycolor,col = mycolor2)
n <- 10
mycolor <- gray(0:1) #between 0:1
pie(rep(1,n),labels=mycolor,col=mycolor)
mycolor <- gray(0:10) #between 0:1
pie(rep(1,n),labels=mycolor,col=mycolor)
n <- 10
mycolor <- gray(0:10/10) #between 0:1
pie(rep(1,n),labels=mycolor,col=mycolor)
mycolor2 <- cm.colors(n)  #value
pie(rep(1,n),labels = mycolor2,col = mycolor2)
mycolor2 <- heat.colors(n)  #value
pie(rep(1,n),labels = mycolor2,col = mycolor2)
?layout
par(mfrow = c(2, 2))
plot(wt, mpg, main = "Scatterplot of wt vs. mpg")
plot(wt, disp, main = "Scatterplot of wt vs disp")
hist(wt, main = "Histogram of wt")
boxplot(wt, main = "Boxplot of wt")
attach(mtcars)
opar <- par(no.readonly = TRUE)
par(mfrow = c(2, 2))
plot(wt, mpg, main = "Scatterplot of wt vs. mpg")
plot(wt, disp, main = "Scatterplot of wt vs disp")
hist(wt, main = "Histogram of wt")
boxplot(wt, main = "Boxplot of wt")
par(opar)
detach(mtcars)
attach(mtcars)
layout(matrix(c(1, 1, 2, 3), 2, 2, byrow = TRUE))
hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
attach(mtcars)
layout(matrix(c(1, 1, 2, 3), 2, 2, byrow = TRUE),
widths = c(3, 1), heights = c(1, 2))
hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
attach(mtcars)
layout(matrix(c(1, 1, 2, 3), 2, 2, byrow = TRUE))
hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
attach(mtcars)
layout(matrix(c(1, 1, 2, 3), 2, 2, byrow = TRUE),
widths = c(3, 1), heights = c(1, 2))
hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
attach(mtcars)
layout(matrix(c(1, 1, 2, 3), 2, 2, byrow = TRUE))
hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
attach(mtcars)
layout(matrix(c(1, 2, 3, 3), 2, 2, byrow = TRUE))
hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
attach(mtcars)
layout(matrix(c(1, 1, 2, 3), 2, 2, byrow = TRUE),
widths = c(3, 1), heights = c(1, 2))
hist(wt)
hist(mpg)
hist(disp)
detach(mtcars)
opar <- par(no.readonly = TRUE)
par(fig = c(0, 0.8, 0, 0.8))
plot(mtcars$wt, mtcars$mpg, xlab = "Miles Per Gallon",
ylab = "Car Weight")
par(fig = c(0, 0.8, 0.55, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
par(fig = c(0.65, 1, 0, 0.8), new = TRUE)
boxplot(mtcars$mpg, axes = FALSE)
mtext("Enhanced Scatterplot", side = 3, outer = TRUE,
line = -3)
par(opar)
opar <- par(no.readonly = TRUE)
par(fig = c(0, 0.8, 0, 0.8))
plot(mtcars$wt, mtcars$mpg, xlab = "Miles Per Gallon",
ylab = "Car Weight")
par(fig = c(0, 0.8, 0.55, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
par(fig = c(0, 0.8, 0.75, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
par(fig = c(0, 0.8, 0, 0.8))
plot(mtcars$wt, mtcars$mpg, xlab = "Miles Per Gallon",
ylab = "Car Weight")
#-------------upper-box----------------------------------------
par(fig = c(0, 0.8, 0.75, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
par(fig = c(0, 0.8, 0.65, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
par(fig = c(0, 0.8, 0, 0.8))
plot(mtcars$wt, mtcars$mpg, xlab = "Miles Per Gallon",
ylab = "Car Weight")
#-------------upper-box----------------------------------------
par(fig = c(0, 0.8, 0.65, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
par(fig = c(0, 0.8, 0, 0.8))
plot(mtcars$wt, mtcars$mpg, xlab = "Miles Per Gallon",
ylab = "Car Weight")
#-------------upper-box----------------------------------------
par(fig = c(0, 0.8, 0.55, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
par(fig = c(0, 0.8, 0, 0.8))
plot(mtcars$wt, mtcars$mpg, xlab = "Miles Per Gallon",
ylab = "Car Weight")
#-------------upper-box----------------------------------------
par(fig = c(0, 0.8, 0.8, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
par(fig = c(0.65, 1, 0, 0.8), new = TRUE)
boxplot(mtcars$mpg, axes = FALSE)
opar <- par(no.readonly = TRUE)
#--------------point-----------------------------------------------
par(fig = c(0, 0.8, 0, 0.8))
plot(mtcars$wt, mtcars$mpg, xlab = "Miles Per Gallon",
ylab = "Car Weight")
#-------------upper-box----------------------------------------
par(fig = c(0, 0.8, 0.55, 1), new = TRUE)
boxplot(mtcars$wt, horizontal = TRUE, axes = FALSE)
#-------------upper-box----------------------------------------
par(fig = c(0.65, 1, 0, 0.8), new = TRUE)
boxplot(mtcars$mpg, axes = FALSE)
mtext("Enhanced Scatterplot", side = 3, outer = TRUE,
line = -3)
par(opar)
manager <- c(1, 2, 3, 4, 5)
date <- c("10/24/08", "10/28/08", "10/1/08", "10/12/08",
"5/1/09")
gender <- c("M", "F", "F", "M", "F")
age <- c(32, 45, 25, 39, 99)
q1 <- c(5, 3, 3, 3, 2)
q2 <- c(4, 5, 5, 3, 2)
q3 <- c(5, 2, 5, 4, 1)
q4 <- c(5, 5, 5, NA, 2)
q5 <- c(5, 5, 2, NA, 1)
manager <- c(1, 2, 3, 4, 5)
date <- c("10/24/08", "10/28/08", "10/1/08", "10/12/08",
"5/1/09")
gender <- c("M", "F", "F", "M", "F")
age <- c(32, 45, 25, 39, 99)
q1 <- c(5, 3, 3, 3, 2)
q2 <- c(4, 5, 5, 3, 2)
q3 <- c(5, 2, 5, 4, 1)
q4 <- c(5, 5, 5, NA, 2)
q5 <- c(5, 5, 2, NA, 1)
manager <- c(1, 2, 3, 4, 5)
date <- c("10/24/08", "10/28/08", "10/1/08", "10/12/08",
"5/1/09")
gender <- c("M", "F", "F", "M", "F")
age <- c(32, 45, 25, 39, 99)
q1 <- c(5, 3, 3, 3, 2)
q2 <- c(4, 5, 5, 3, 2)
q3 <- c(5, 2, 5, 4, 1)
q4 <- c(5, 5, 5, NA, 2)
q5 <- c(5, 5, 2, NA, 1)
leadership <- data.frame(manager,date,gender,age,
q1,q2,q3,q4,q5,stringsAsFactors = F)
leadership <- data.frame(manager,date,gender,age,
q1,q2,q3,q4,q5,stringsAsFactors = F)
str(leadership)
leadership$agecat[leadership$age > 75] <- "Elder"
leadership$agecat[leadership$age >= 55 & leadership$age <=75] <- "Middle age"
leadership$agecat[leadership$age <=55] <- "young"
str(leadership)
leadership <- within(leadership,{
agecat[age>75] <- "elder"
agecat[age<=75 & age>=55] <- "Middle"
agecat[age<55] <- "young"
})
fix(leadership)
fix(leadership)
names(leadership)
is.na(leadership)
is.na(leadership[,6:10])
leadership$age[leadership$age == 99] <- NA
leadership
x <- c(1,2,NA,3)
y <- sapply(x,sum)
s
x <- c(1,2,NA,3)
sapply(x,sum)
x <- c(1,2,NA,3)
apply(x,1,sum)
x <- c(1,2,3,3)
apply(x,sum)
x <- c(1,2,3,3)
lapply(x,sum)
